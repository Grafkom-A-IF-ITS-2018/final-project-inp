!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=30)}([function(e,t,r){"use strict";var n=r(2),i=r(10),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"==typeof e}function h(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:h,isStream:function(e){return s(e)&&h(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";(function(t){var n=r(0),i=r(13),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=r(3):void 0!==t&&(e=r(3)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){s.headers[e]={}}),n.forEach(["post","put","patch"],function(e){s.headers[e]=n.merge(o)}),e.exports=s}).call(this,r(12))},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0),i=r(14),o=r(16),a=r(17),s=r(18),h=r(4),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(19);e.exports=function(e){return new Promise(function(t,u){var l=e.data,d=e.headers;n.isFormData(l)&&delete d["Content-Type"];var p=new XMLHttpRequest,m="onreadystatechange",f=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,m="onload",f=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var E=e.auth.username||"",g=e.auth.password||"";d.Authorization="Basic "+c(E+":"+g)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[m]=function(){if(p&&(4===p.readyState||f)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:r,config:e,request:p};i(t,u,n),p=null}},p.onerror=function(){u(h("Network Error",e,null,p)),p=null},p.ontimeout=function(){u(h("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=r(20),T=(e.withCredentials||s(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;T&&(d[e.xsrfHeaderName]=T)}if("setRequestHeader"in p&&n.forEach(d,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),u(e),p=null)}),void 0===l&&(l=null),p.send(l)})}},function(e,t,r){"use strict";var n=r(15);e.exports=function(e,t,r,i,o){var a=new Error(e);return n(a,t,r,i,o)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){e.exports=r(9)},function(e,t,r){(function(e){!function(r,n){var i=function(){var e=null,t={};o("monochrome",null,[[0,0],[100,0]]),o("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),o("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),o("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),o("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),o("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),o("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),o("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var r=function(o){if(void 0!==(o=o||{}).seed&&null!==o.seed&&o.seed===parseInt(o.seed,10))e=o.seed;else if("string"==typeof o.seed)e=function(e){for(var t=0,r=0;r!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);r++)t+=e.charCodeAt(r);return t}(o.seed);else{if(void 0!==o.seed&&null!==o.seed)throw new TypeError("The seed value must be an integer or string");e=null}var h,c,u;if(null!==o.count&&void 0!==o.count){var l=o.count,d=[];for(o.count=null;l>d.length;)e&&o.seed&&(o.seed+=1),d.push(r(o));return o.count=l,d}return h=function(e){var r=i(function(e){if("number"==typeof parseInt(e)){var r=parseInt(e);if(r<360&&r>0)return[r,r]}if("string"==typeof e)if(t[e]){var n=t[e];if(n.hueRange)return n.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var i=function(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,r=parseInt(e.substr(2,2),16)/255,n=parseInt(e.substr(4,2),16)/255,i=Math.max(t,r,n),o=i-Math.min(t,r,n),a=i?o/i:0;switch(i){case t:return[(r-n)/o%6*60||0,a,i];case r:return[60*((n-t)/o+2)||0,a,i];case n:return[60*((t-r)/o+4)||0,a,i]}}(e)[0];return[i,i]}return[0,360]}(e.hue));r<0&&(r=360+r);return r}(o),c=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return i([0,100]);var r=function(e){return n(e).saturationRange}(e),o=r[0],a=r[1];switch(t.luminosity){case"bright":o=55;break;case"dark":o=a-10;break;case"light":a=55}return i([o,a])}(h,o),u=function(e,t,r){var o=function(e,t){for(var r=n(e).lowerBounds,i=0;i<r.length-1;i++){var o=r[i][0],a=r[i][1],s=r[i+1][0],h=r[i+1][1];if(t>=o&&t<=s){var c=(h-a)/(s-o),u=a-c*o;return c*t+u}}return 0}(e,t),a=100;switch(r.luminosity){case"dark":a=o+20;break;case"light":o=(a+o)/2;break;case"random":o=0,a=100}return i([o,a])}(h,c,o),function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return s(e);case"hsl":var r=s(e);return"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)";case"hsla":var n=s(e),i=t.alpha||Math.random();return"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+i+")";case"rgbArray":return a(e);case"rgb":var o=a(e);return"rgb("+o.join(", ")+")";case"rgba":var h=a(e),i=t.alpha||Math.random();return"rgba("+h.join(", ")+", "+i+")";default:return function(e){var t=a(e);function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+r(t[0])+r(t[1])+r(t[2])}(e)}}([h,c,u],o)};function n(e){for(var r in e>=334&&e<=360&&(e-=360),t){var n=t[r];if(n.hueRange&&e>=n.hueRange[0]&&e<=n.hueRange[1])return t[r]}return"Color not found"}function i(t){if(null===e)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var r=t[1]||1,n=t[0]||0,i=(e=(9301*e+49297)%233280)/233280;return Math.floor(n+i*(r-n))}function o(e,r,n){var i=n[0][0],o=n[n.length-1][0],a=n[n.length-1][1],s=n[0][1];t[e]={hueRange:r,lowerBounds:n,saturationRange:[i,o],brightnessRange:[a,s]}}function a(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var r=e[1]/100,n=e[2]/100,i=Math.floor(6*t),o=6*t-i,a=n*(1-r),s=n*(1-o*r),h=n*(1-(1-o)*r),c=256,u=256,l=256;switch(i){case 0:c=n,u=h,l=a;break;case 1:c=s,u=n,l=a;break;case 2:c=a,u=n,l=h;break;case 3:c=a,u=s,l=n;break;case 4:c=h,u=a,l=n;break;case 5:c=n,u=a,l=s}var d=[Math.floor(255*c),Math.floor(255*u),Math.floor(255*l)];return d}function s(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=(2-r)*n;return[t,Math.round(r*n/(i<1?i:2-i)*1e4)/100,i/2*100]}return r}();e&&e.exports&&(t=e.exports=i),t.randomColor=i}()}).call(this,r(28)(e))},function(e,t,r){"use strict";var n=r(0),i=r(2),o=r(11),a=r(1);function s(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var h=s(a);h.Axios=o,h.create=function(e){return s(n.merge(a,e))},h.Cancel=r(6),h.CancelToken=r(26),h.isCancel=r(5),h.all=function(e){return Promise.all(e)},h.spread=r(27),e.exports=h,e.exports.default=h},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(1),i=r(0),o=r(21),a=r(22);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=s},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var h,c=[],u=!1,l=-1;function d(){u&&h&&(u=!1,h.length?c=h.concat(c):l=-1,c.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(h=c,c=[];++l<t;)h&&h[l].run();l=-1,t=c.length}h=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||u||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(4);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e}},function(e,t,r){"use strict";var n=r(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,function(e,t){null!==e&&void 0!==e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,r){"use strict";var n=r(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}}),a):a}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,o=String(e),a="",s=0,h=n;o.charAt(0|s)||(h="=",s%1);a+=h.charAt(63&t>>8-s%1*8)){if((r=o.charCodeAt(s+=.75))>255)throw new i;t=t<<8|r}return a}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(0);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,r){"use strict";var n=r(0),i=r(23),o=r(5),a=r(1),s=r(24),h=r(25);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=h(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(6);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Date.prototype.getDayOfYear=function(e){e=e||new Date;var t=new Date(e.getFullYear(),0,1);return Math.ceil((this-t)/864e5)},Date.prototype.timeStringToDecimal=function(){var e=this.toTimeString().split(/[.:]/);return Number.parseInt(e[0],10)+(e[1]?Number.parseInt(e[1],10):0)/60},Date.prototype.getDOYwithTimeAsDecimal=function(e){var t=this.getDayOfYear()+this.timeStringToDecimal()/24;return e&&e>0?Number.parseFloat(t.toFixed(e)):t}},function(e,t,r){"use strict";r.r(t);var n=r(7),i=r.n(n),o=r(8),a=r.n(o);var s=class{constructor(e,t,r,n){this._diameter=e||1,this._mass=t||1,this._gravity=r||1,this._density=n||1,this._core=new THREE.Group,this._objectCentroid=new THREE.Group}get core(){return this._core}get diameter(){return this._diameter}get mass(){return this._mass}get gravity(){return this._gravity}get density(){return this._density}get objectCentroid(){return this._objectCentroid}};const h="#404040";var c=class{constructor(e,t){this._object=e,this._color=t||new THREE.Color(h),this._orbit=this.createOrbit(),console.log(this._object.threeParent.threeRadius+this._object.threeDistanceFromParent,this._object.name)}get orbit(){return this._orbit}get color(){return this._color}set color(e){this._color=e}createOrbit(){let e=this._object.threeDistanceFromParent+750,t=360/e,r=new THREE.Geometry,n=new THREE.LineBasicMaterial({color:this._color,linewidth:1,fog:!0});for(let n=0;n<=e;n++){let e=THREE.Math.degToRad(n*t),i=this._object.threeParent.threeRadius+this._object.threeDistanceFromParent;r.vertices.push(new THREE.Vector3(Math.cos(e)*i,Math.sin(e)*i,0))}let i=new THREE.Line(r,n);return i.position.set(0,0,0),i}};const u=Math.pow(10,-4.2);var l={UNIVERSE_SCALE:u,CELESTIAL_SCALE:Math.pow(10,-3.8),ORBIT_SCALE:u,OFFSET:66};const d="#424242",p="#3beaf7";var m=class extends s{constructor(e,t,r,n){super(e.diameter,e.mass,e.gravity,e.density),this._id=e.id||null,this._name=e.name||null,this._distanceFromParent=e.distanceFromParent||null,this._orbitalPeriod=Number.parseFloat(e.orbitalPeriod)||null,this._orbitalInclination=e.orbitalInclination||null,this._mass=e.mass||null,this._orbitColor=n||d,this._threeDiameter=this.createThreeDiameter(),this._threeRadius=this.createThreeRadius(),this._surface=this.createSurface(e._3d.textures.base,e._3d.textures.topo),this._threeObject=this.createGeometry(this._surface),this._threeDistanceFromParent=this.createThreeDistanceFromParent(),this._threeParent=t||null,this._parentData=r||null,this._orbitCentroid=new THREE.Group,this._highlight=this.createHighlight(),this.buildFullObject3D()}get id(){return this._id}get name(){return this._name}get distanceFromParent(){return this._distanceFromParent}get orbitalPeriod(){return this._orbitalPeriod}get orbitalInclination(){return this._orbitalInclination}get mass(){return this._mass}get threeDiameter(){return this._threeDiameter}get threeRadius(){return this._threeRadius}get threeObject(){return this._threeObject}get threeParent(){return this._threeParent}get threeDistanceFromParent(){return this._threeDistanceFromParent}get orbitLine(){return this._orbitLine}get orbitCentroid(){return this._orbitCentroid}get orbitColor(){return this._orbitColor}get orbitColorDefault(){return this._orbitColorDefault}get parentData(){return this._parentData}get highlight(){return this._highlight}set highlight(e){this._highlight=this.createHighlight(e)}createHighlight(e){let t=this._threeDiameter>4?45*this._threeDiameter:75*this._threeDiameter,r=e||t,n=new THREE.Geometry,i=new THREE.MeshBasicMaterial({color:p,transparent:!0,opacity:0,depthTest:!1});for(let e=0;e<=2880;e++){let t=.125*e*Math.PI/180;n.vertices.push(new THREE.Vector3(Math.cos(t)*r,Math.sin(t)*r,0))}let o=new THREE.Line(n,i);return o.rotation.y+=THREE.Math.degToRad(90),o.position.set(0,0,0),this._core.add(o),o}buildFullObject3D(){this._orbitLine=new c(this,d),this._orbitCentroid.add(this._threeObject,this._core,this._orbitLine.orbit)}createThreeDiameter(){return this._diameter<300?7e-4*this._diameter:this._diameter*l.CELESTIAL_SCALE}createThreeRadius(){return this._diameter<300?7e-4*this._diameter/2:this._diameter*l.CELESTIAL_SCALE/2}createThreeDistanceFromParent(){return this._distanceFromParent*l.ORBIT_SCALE}getTexture(e,t){let r=(new THREE.TextureLoader).load(e);return r.wrapS=THREE.ClampToEdgeWrapping,r.wrapT=THREE.ClampToEdgeWrapping,t&&(r.filter=t),r}createGeometry(e,t){let r=Number.parseInt(this._threeDiameter+35),n=new THREE.Mesh(new THREE.SphereGeometry(this._threeRadius,r,r),e);return t&&n.add(t),n}createSurface(e,t,r){let n,i=this.getTexture(e);return i.minFilter=THREE.NearestFilter,t&&((n=this.getTexture(t)).minFilter=THREE.NearestFilter),new THREE.MeshLambertMaterial({map:i})}};function f(e,t,r){THREE.Geometry.call(this),e=e||0,t=t||50,r=r||8;for(var n=new THREE.Vector3(0,0,1),i=0;i<r;i++){var o=i/r*Math.PI*2,a=(i+1)/r*Math.PI*2,s=new THREE.Vector3(e*Math.cos(o),e*Math.sin(o),0),h=new THREE.Vector3(t*Math.cos(o),t*Math.sin(o),0),c=new THREE.Vector3(e*Math.cos(a),e*Math.sin(a),0),u=new THREE.Vector3(t*Math.cos(a),t*Math.sin(a),0);this.vertices.push(s),this.vertices.push(h),this.vertices.push(c),this.vertices.push(u);var l=4*i,d=new THREE.Face3(l+0,l+1,l+2,n),p=[],m=new THREE.Vector2(0,0);p.push(m);m=new THREE.Vector2(1,0);p.push(m);m=new THREE.Vector2(0,1);p.push(m),this.faces.push(d),this.faceVertexUvs[0].push(p);d=new THREE.Face3(l+2,l+1,l+3,n),p=[],m=new THREE.Vector2(0,1);p.push(m);m=new THREE.Vector2(1,0);p.push(m);m=new THREE.Vector2(1,1);p.push(m),this.faces.push(d),this.faceVertexUvs[0].push(p)}this.boundingSphere=new THREE.Sphere(new THREE.Vector3,t)}f.prototype=Object.create(THREE.Geometry.prototype);var E=f;const g="#2d2d2d",b="#ffbd00";var T=class extends s{constructor(e,t){super(e.diameter,e.mass,e.gravity,e.density),this._id=e.id||null,this._name=e.name||null,this._rotationPeriod=e.rotationPeriod||null,this._lengthOfDay=e.lengthOfDay||null,this._distanceFromParent=e.distanceFromParent||null,this._orbitalPeriod=Number.parseFloat(e.orbitalPeriod)||null,this._orbitalVelocity=e.orbitalVelocity||null,this._orbitalInclination=e.orbitalInclination||null,this._axialTilt=e.axialTilt||null,this._meanTemperature=e.meanTemperature||null,this._orbitPositionOffset=e.orbitPositionOffset,this._orbitHighlightColor=e.orbitHighlightColor||g,this._textureLoader=new THREE.TextureLoader,this._threeDiameter=this.createThreeDiameter(),this._threeRadius=this.createThreeRadius(),this._surface=this.createSurface(e._3d.textures.base,e._3d.textures.topo,e._3d.textures.specular),this._atmosphere=this.createAtmosphere(e._3d.textures.clouds),this._threeObject=this.createGeometry(this._surface,this._atmosphere),this._threeDistanceFromParent=this.createThreeDistanceFromParent(),this._threeParent=t||null,this._moons=[],this._theta=0,this._orbitCentroid=new THREE.Group,this._highlight=this.createHighlight(),e.rings&&this.createRingGeometry(e),this.buildFullObject3D()}get id(){return this._id}get name(){return this._name}get rotationPeriod(){return this._rotationPeriod}get distanceFromParent(){return this._distanceFromParent}get orbitalPeriod(){return this._orbitalPeriod}get orbitalVelocity(){return this._orbitalVelocity}get orbitalInclination(){return this._orbitalInclination}get axialTilt(){return this._axialTilt}get meanTemperature(){return this._meanTemperature}get moons(){return this._moons}get orbitPositionOffset(){return this._orbitPositionOffset}get theta(){return this._theta}set theta(e){this._theta=e}get highlight(){return this._highlight}get threeDiameter(){return this._threeDiameter}get threeRadius(){return this._threeRadius}get threeObject(){return this._threeObject}get threeParent(){return this._threeParent}get threeDistanceFromParent(){return this._threeDistanceFromParent}get orbitCentroid(){return this._orbitCentroid}get orbitLine(){return this._orbitLine}get orbitHighlightColor(){return this._orbitHighlightColor}set highlight(e){this._highlight=this.createHighlight(e)}setAxes(){this._threeObject.rotation.y=THREE.Math.degToRad(this._axialTilt),this._core.rotation.y=THREE.Math.degToRad(this._axialTilt)}buildFullObject3D(){this.setAxes(),this._orbitLine=new c(this),this._orbitCentroid.add(this._threeObject,this._core,this._orbitLine.orbit,this._objectCentroid),this._threeObject.name="THREE OBJ",this._core.name="CORE",this._orbitLine.orbit.name="ASD",this._objectCentroid.name="OBJ CENTROID"}createThreeDiameter(){return this._diameter*l.CELESTIAL_SCALE}createThreeRadius(){return this._diameter*l.CELESTIAL_SCALE/2}createThreeDistanceFromParent(){return this._distanceFromParent*l.ORBIT_SCALE}getTexture(e,t){let r=this._textureLoader.load(e);return r.wrapS=THREE.ClampToEdgeWrapping,r.wrapT=THREE.ClampToEdgeWrapping,t&&(r.filter=t),r}createGeometry(e,t){let r=Number.parseInt(this._threeDiameter+l.OFFSET),n=new THREE.Mesh(new THREE.SphereGeometry(this._threeRadius-.1,r,r));return n.add(e),t&&n.add(t),n}createSurface(e,t,r){if(!e)return;let n,i,o=Number.parseInt(this._threeDiameter+l.OFFSET),a=this.getTexture(e);a.minFilter=THREE.NearestFilter,t&&((n=this.getTexture(t)).minFilter=THREE.NearestFilter),r&&((i=this.getTexture(r)).minFilter=THREE.LinearFilter);let s=new THREE.MeshPhongMaterial({map:a,bumpMap:n||null,bumpScale:n?.015:null,specularMap:i||null}),h=new THREE.Mesh(new THREE.SphereGeometry(this._threeRadius,o,o),s);return h.rotation.x=THREE.Math.degToRad(90),h}createAtmosphere(e){if(e){let t=this.getSphereGeometrySegmentOffset(),r=this.getTexture(e);r.minFilter=THREE.LinearFilter;let n=new THREE.Mesh(new THREE.SphereGeometry(1.01*this._threeRadius,t,t),new THREE.MeshPhongMaterial({map:r,transparent:!0,opacity:.9}));return n.rotation.x=THREE.Math.degToRad(90),n}return null}createRingGeometry(e){const t=l.CELESTIAL_SCALE*e.rings.innerRadius,r=l.CELESTIAL_SCALE*e.rings.outerRadius;let n=new E(t,r,180),i=this._textureLoader.load(e.rings.textures.base);i.minFilter=THREE.NearestFilter;let o=this._textureLoader.load(e.rings.textures.colorMap);o.minFilter=THREE.NearestFilter;let a=new THREE.MeshLambertMaterial({map:o,alphaMap:i,transparent:!0,opacity:.98,side:THREE.DoubleSide}),s=new THREE.Mesh(n,a);s.position.set(0,0,0),this._threeObject.add(s)}createHighlight(e){let t=this._threeDiameter>4?45*this._threeDiameter:75*this._threeDiameter,r=e||t,n=new THREE.Geometry,i=new THREE.MeshBasicMaterial({color:b,transparent:!0,opacity:0,depthTest:!1});for(let e=0;e<=2880;e++){let t=.125*e*Math.PI/180;n.vertices.push(new THREE.Vector3(Math.cos(t)*r,Math.sin(t)*r,0))}let o=new THREE.Line(n,i);return o.rotation.y+=THREE.Math.degToRad(90),o.position.set(0,0,0),this._core.add(o),console.log(this._core),o}getSphereGeometrySegmentOffset(){return Number.parseInt(this._threeDiameter+60)}};const y=7479893535;var _=class extends s{constructor(e){super(e.diameter,e.mass,e.gravity,e.density),this._id=e.id||null,this._name=e.name||null,this._rotationPeriod=e.rotationPeriod||null,this._lengthOfDay=e.lengthOfDay||null,this._distanceFromParent=e.distanceFromParent||null,this._axialTilt=e.axialTilt||null,this._meanTemperature=e.meanTemperature||null,this._threeDiameter=this.createThreeDiameter(),this._threeRadius=this.createThreeRadius(),this._surface=this.createSurface(e._3d.textures.base,e._3d.textures.topo),this._threeObject=this.createGeometry(this._surface)}get threeDiameter(){return this._threeDiameter}get threeRadius(){return this._threeRadius}get threeObject(){return this._threeObject}getTexture(e){if(e){let t=(new THREE.TextureLoader).load(e);return t.wrapS=THREE.ClampToEdgeWrapping,t.wrapT=THREE.ClampToEdgeWrapping,t}}createThreeDiameter(){return this._diameter*l.CELESTIAL_SCALE}createThreeRadius(){return this._diameter*l.CELESTIAL_SCALE/2}createGeometry(e){let t=new THREE.SphereGeometry(this._threeRadius,84,42),r=new THREE.Mesh(t,e),n=y*l.UNIVERSE_SCALE,i=new THREE.PointLight(16777215,1,n,.6);return r.rotation.x=THREE.Math.degToRad(90),r.add(i),r}createSurface(e,t){if(!e)return;let r,n=this.getTexture(e);return n.minFilter=THREE.NearestFilter,t&&((r=this.getTexture(t)).minFilter=THREE.NearestFilter),new THREE.MeshPhongMaterial({map:n,bumpMap:r||null,bumpScale:r?.015:null,lightMap:n,transparent:!0,opacity:.85,shading:THREE.SmoothShading})}};var w=class extends THREE.Clock{constructor(e){super(e)}};window.clock=new w({});window.clock.start(),window.clock.stop();const R=12;var v=class{constructor(e){this._object=e,this._distanceFromParent=e.threeDistanceFromParent,this._segmentsInDay=1,this._currentDay=1,this._orbitAmplitude=this._object.threeParent?this._object.threeParent.threeRadius+this._distanceFromParent:1e3,this._degreesToRotate=.1*Math.PI/180,this._orbitPositionOffset=e.orbitPositionOffset||0,this._theta=0,this._date=new Date,this.initListeners(),this._first=!0}initListeners(){this.positionObject(),document.addEventListener("frame",e=>{this.positionObject(),this.rotateObject()},!1)}positionObject(){let e=this._date.getDOYwithTimeAsDecimal()+clock.getElapsedTime()/60+this._orbitPositionOffset,t=THREE.Math.degToRad(e*(360/this._object.orbitalPeriod)),r=this._orbitAmplitude*Math.cos(t),n=this._orbitAmplitude*Math.sin(t);this._object.theta=t,r=Number.parseFloat(r.toFixed(R)),n=Number.parseFloat(n.toFixed(R)),this._object.threeObject.position.set(r,n,0),this._object.core.position.set(r,n,0),this.setOrbitInclination();var i=Number.parseInt(e);i>0&&i%60==0&&(clock=new w(!0))}rotateObject(){this._object.threeObject.rotation.z+=this._degreesToRotate}setOrbitInclination(){this._object.orbitCentroid.rotation.set(THREE.Math.degToRad(this._object.orbitalInclination),0,0),this._object.orbitCentroid.updateMatrixWorld()}};function P(){var e=renderer.domElement;e&&"function"==typeof e.requestPointerLock&&e.requestPointerLock()}function H(){var e=document.pointerLockElement,t=renderer.domElement;e&&e===t&&"function"==typeof document.exitPointerLock&&document.exitPointerLock()}var x=class{constructor(e){this._renderEngine=new THREE.WebGLRenderer,this._scene=e,this._camera=e.camera,this._scene.sceneElement.appendChild(this._renderEngine.domElement),this._controller=this._renderEngine.vr.getController(0),this._scene.add(this._controller),console.log(this._renderEngine.vr.getCamera(this._camera)),this._raycaster=new THREE.Raycaster,this._raycaster.setFromCamera({x:0,y:0},this._camera),window.addEventListener("vrdisplaypointerrestricted",P,!1),window.addEventListener("vrdisplaypointerunrestricted",H,!1),this.setFrame(),this.render=this.render.bind(this),this.render(),this.frameEvent=new CustomEvent("frame")}render(){this._renderEngine.setAnimationLoop(()=>{document.dispatchEvent(new CustomEvent("frame")),TWEEN.update(),this._renderEngine.render(this._scene,this._camera)})}setFrame(){let e=document.getElementById("solar-system");this._renderEngine.setSize(window.innerWidth,window.innerHeight),e?e.appendChild(this._renderEngine.domElement):document.body.appendChild(this._renderEngine.domElement)}};const M="#424242",O="#197eaa";var C=class{constructor(e){this.scene=e.scene||null,this.camera=e.scene.camera,this.sceneObjects=e.sceneObjects||{},this.lastKeyCode=0,this.isTravel=!1}handleKeyDown(e){if(e.keyCode!=this.lastKeyCode){switch(console.log(e.keyCode),e.keyCode){case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:console.log(this.isTravel),this.isTravel?this.travel(e.keyCode):this.highlightPlanet(e.keyCode);break;case 116:this.isTravel=!this.isTravel,console.log(this.isTravel)}this.lastKeyCode=e.keyCode}}calculateDestinationCoordinates(e,t){var r=e.x,n=e.y,i=r,o=n,a=e.z,s=r>0&&n>0,h=r<0&&n>0,c=r<0&&n<0,u=r>0&&n<0,l=(t.threeDiameter,3*t.threeDiameter);s&&(i+=l,o+=l),h&&(i-=l,o+=l),c&&(i-=l,o-=l),u&&(i+=l,o-=l);let d=new THREE.Vector3;return d.x=i,d.y=o,d.z=a+.15*t.threeDiameter,d}travel(e){this.scene.updateMatrixWorld();let t=this.matchTarget(e-48),r=new THREE.Vector3;r.setFromMatrixPosition(t.threeObject.matrixWorld);let n=this.calculateDestinationCoordinates(r,t);this.camera.position.set(n.x,n.y,n.z),this.camera.lookAt(r),this.scene.orbitControls.target=r.clone()}handleKeyUp(e){switch(e.keyCode){case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.unhighlightPlanet(e.keyCode)}this.lastKeyCode=0}highlightPlanet(e){let t=this.matchTarget(e-48);this.highlightTarget(t),this.highlightOrbit(t)}highlightTarget(e){let t=.011*this.scene.camera.position.distanceTo(e.threeObject.position);e.highlight=t,e.highlight.material.opacity=.9}highlightOrbit(e){e.orbitLine.orbit.material.color=new THREE.Color(O),e.orbitLine.orbit.material.needsUpdate=!0}unhighlightPlanet(e){let t=this.matchTarget(e-48);this.unhighlightTarget(t),this.unhighlightOrbit(t)}unhighlightTarget(e){e.core.remove(e.highlight)}unhighlightOrbit(e){e.orbitLine.orbit.material.color=new THREE.Color(M),e.orbitLine.orbit.material.needsUpdate=!0}matchTarget(e){for(let t=0;t<this.sceneObjects.planets.length;t++)if(this.sceneObjects.planets[t].id==e)return this.sceneObjects.planets[t]}};function S(e,t){var r=THREE.MOUSE;r||(r={LEFT:0,MIDDLE:1,RIGHT:2}),this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:r.LEFT,ZOOM:r.MIDDLE,PAN:r.RIGHT};var n,i,o=this,a=new THREE.Vector2,s=new THREE.Vector2,h=new THREE.Vector2,c=new THREE.Vector2,u=new THREE.Vector2,l=new THREE.Vector2,d=new THREE.Vector3,p=new THREE.Vector3,m=new THREE.Vector2,f=new THREE.Vector2,E=new THREE.Vector2,g=0,b=0,T=1,y=new THREE.Vector3,_=new THREE.Vector3,w=new THREE.Quaternion,R={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},v=R.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var P=(new THREE.Quaternion).setFromUnitVectors(new THREE.Vector3(0,0,1),new THREE.Vector3(0,1,0)),H=P.clone().inverse(),x={type:"change"},M={type:"start"},O={type:"end"};function C(){return 2*Math.PI/60/60*o.autoRotateSpeed}function S(){return Math.pow(.95,o.zoomSpeed)}function j(e){if(!1!==o.enabled){e.preventDefault();var t=o.domElement===document?o.domElement.body:o.domElement;if(v===R.ROTATE){if(!0===o.noRotate)return;s.set(e.clientX,e.clientY),h.subVectors(s,a),o.rotateLeft(2*Math.PI*h.x/t.clientWidth*o.rotateSpeed),o.rotateUp(2*Math.PI*h.y/t.clientHeight*o.rotateSpeed),a.copy(s)}else if(v===R.DOLLY){if(!0===o.noZoom)return;f.set(e.clientX,e.clientY),E.subVectors(f,m),E.y>0?o.dollyIn():E.y<0&&o.dollyOut(),m.copy(f)}else if(v===R.PAN){if(!0===o.noPan)return;u.set(e.clientX,e.clientY),l.subVectors(u,c),o.pan(l.x,l.y),c.copy(u)}v!==R.NONE&&o.update()}}function F(){!1!==o.enabled&&(document.removeEventListener("mousemove",j,!1),document.removeEventListener("mouseup",F,!1),o.dispatchEvent(O),v=R.NONE)}function L(e){if(!1!==o.enabled&&!0!==o.noZoom&&v===R.NONE){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?o.dollyOut():t<0&&o.dollyIn(),o.update(),o.dispatchEvent(M),o.dispatchEvent(O)}}this.rotateLeft=function(e){void 0===e&&(e=C()),b-=e},this.rotateUp=function(e){void 0===e&&(e=C()),g-=e},this.panLeft=function(e){var t=this.object.matrix.elements;d.set(t[0],t[1],t[2]),d.multiplyScalar(-e),y.add(d)},this.panUp=function(e){var t=this.object.matrix.elements;d.set(t[4],t[5],t[6]),d.multiplyScalar(e),y.add(d)},this.pan=function(e,t){var r=o.domElement===document?o.domElement.body:o.domElement;if(o.object instanceof THREE.PerspectiveCamera){var n=o.object.position.clone().sub(o.target).length();n*=Math.tan(o.object.fov/2*Math.PI/180),o.panLeft(2*e*n/r.clientHeight),o.panUp(2*t*n/r.clientHeight)}else o.object instanceof THREE.OrthographicCamera?(o.panLeft(e*(o.object.right-o.object.left)/r.clientWidth),o.panUp(t*(o.object.top-o.object.bottom)/r.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(e){void 0===e&&(e=S()),o.object instanceof THREE.PerspectiveCamera?T/=e:o.object instanceof THREE.OrthographicCamera?(o.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*e)),o.object.updateProjectionMatrix(),o.dispatchEvent(x)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(e){void 0===e&&(e=S()),o.object instanceof THREE.PerspectiveCamera?T*=e:o.object instanceof THREE.OrthographicCamera?(o.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/e)),o.object.updateProjectionMatrix(),o.dispatchEvent(x)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=function(){var e=this.object.position;p.copy(e).sub(this.target),p.applyQuaternion(P),n=Math.atan2(p.x,p.z),i=Math.atan2(Math.sqrt(p.x*p.x+p.z*p.z),p.y),this.autoRotate&&v===R.NONE&&this.rotateLeft(C()),n+=b,i+=g,n=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,n)),i=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,i)),i=Math.max(1e-6,Math.min(Math.PI-1e-6,i));var t=p.length()*T;t=Math.max(this.minDistance,Math.min(this.maxDistance,t)),this.target.add(y),p.x=t*Math.sin(i)*Math.sin(n),p.y=t*Math.cos(i),p.z=t*Math.sin(i)*Math.cos(n),p.applyQuaternion(H),e.copy(this.target).add(p),this.object.lookAt(this.target),b=0,g=0,T=1,y.set(0,0,0),(_.distanceToSquared(this.object.position)>1e-6||8*(1-w.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(x),_.copy(this.object.position),w.copy(this.object.quaternion))},this.reset=function(){v=R.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(x),this.update()},this.getPolarAngle=function(){return i},this.getAzimuthalAngle=function(){return n},this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.domElement.addEventListener("mousedown",function(e){if(!1!==o.enabled){if(e.preventDefault(),e.button===o.mouseButtons.ORBIT){if(!0===o.noRotate)return;v=R.ROTATE,a.set(e.clientX,e.clientY)}else if(e.button===o.mouseButtons.ZOOM){if(!0===o.noZoom)return;v=R.DOLLY,m.set(e.clientX,e.clientY)}else if(e.button===o.mouseButtons.PAN){if(!0===o.noPan)return;v=R.PAN,c.set(e.clientX,e.clientY)}v!==R.NONE&&(document.addEventListener("mousemove",j,!1),document.addEventListener("mouseup",F,!1),o.dispatchEvent(M))}},!1),this.domElement.addEventListener("mousewheel",L,!1),this.domElement.addEventListener("MozMousePixelScroll",L,!1),this.domElement.addEventListener("touchstart",function(e){if(!1!==o.enabled){switch(e.touches.length){case 1:if(!0===o.noRotate)return;v=R.TOUCH_ROTATE,a.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(!0===o.noZoom)return;v=R.TOUCH_DOLLY;var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);m.set(0,n);break;case 3:if(!0===o.noPan)return;v=R.TOUCH_PAN,c.set(e.touches[0].pageX,e.touches[0].pageY);break;default:v=R.NONE}v!==R.NONE&&o.dispatchEvent(M)}},!1),this.domElement.addEventListener("touchend",function(){!1!==o.enabled&&(o.dispatchEvent(O),v=R.NONE)},!1),this.domElement.addEventListener("touchmove",function(e){if(!1!==o.enabled){e.preventDefault(),e.stopPropagation();var t=o.domElement===document?o.domElement.body:o.domElement;switch(e.touches.length){case 1:if(!0===o.noRotate)return;if(v!==R.TOUCH_ROTATE)return;s.set(e.touches[0].pageX,e.touches[0].pageY),h.subVectors(s,a),o.rotateLeft(2*Math.PI*h.x/t.clientWidth*o.rotateSpeed),o.rotateUp(2*Math.PI*h.y/t.clientHeight*o.rotateSpeed),a.copy(s),o.update();break;case 2:if(!0===o.noZoom)return;if(v!==R.TOUCH_DOLLY)return;var r=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(r*r+n*n);f.set(0,i),E.subVectors(f,m),E.y>0?o.dollyOut():E.y<0&&o.dollyIn(),m.copy(f),o.update();break;case 3:if(!0===o.noPan)return;if(v!==R.TOUCH_PAN)return;u.set(e.touches[0].pageX,e.touches[0].pageY),l.subVectors(u,c),o.pan(l.x,l.y),c.copy(u),o.update();break;default:v=R.NONE}}},!1),window.addEventListener("keydown",function(e){if(!1!==o.enabled&&!0!==o.noKeys&&!0!==o.noPan)switch(e.keyCode){case o.keys.UP:o.pan(0,o.keyPanSpeed),o.update();break;case o.keys.BOTTOM:o.pan(0,-o.keyPanSpeed),o.update();break;case o.keys.LEFT:o.pan(o.keyPanSpeed,0),o.update();break;case o.keys.RIGHT:o.pan(-o.keyPanSpeed,0),o.update()}},!1),this.update()}S.prototype=Object.create(THREE.EventDispatcher.prototype),S.prototype.constructor=S;const j=4,F="0xFFFFFF",L=.175;var A=class extends THREE.Scene{constructor(){super(),this._sceneElement=document.getElementById("solar-system"),this._camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.05,5*Math.pow(10,13)),this._cameraWrapper=this.camera,this.setLights(),this.setAxis()}get camera(){return this._camera}get orbitControls(){return this._orbitControls}get cameraWrapper(){return this._cameraWrapper}get sceneElement(){return this._sceneElement}setAxis(){this.rotation.x=THREE.Math.degToRad(90)}setLights(){for(let e=0;e<j;e++){let t=new THREE.DirectionalLight(F,L);this.setObjectPosition(t,e),super.add(t)}}setObjectPosition(e,t){switch(t){case 0:e.position.set(0,0,1e4);break;case 1:e.position.set(0,0,-1e4);break;case 2:e.position.set(1e4,0,0);break;case 3:e.position.set(-1e4,0,0)}}};var D=class{constructor(e){this._starsCentriod=new THREE.Group,this._starsCount=8e3,this._threeDistanceFromParent=5983914828e5*l.ORBIT_SCALE,this._texture=(new THREE.TextureLoader).load("assets/textures/star.jpg"),this._scene=e,this.getStarData()}getStarData(){}getPosition(e){return function(e,t,r,n){t||(t=0),r||(r=0),n||(n=0);let i=Math.random(),o=Math.random(),a=2*Math.PI*i,s=Math.acos(1-2*o),h=t+e*Math.sin(s)*Math.cos(a),c=r+e*Math.sin(s)*Math.sin(a),u=n+e*Math.cos(s);return new THREE.Vector3(h,c,u)}(this._threeDistanceFromParent,0,0,0)}buildStarField(){return new Promise(e=>{let t=this._starsCount,r=new THREE.BufferGeometry,n=new Float32Array(3*t),i=new Float32Array(3*t),o=new THREE.Color;for(let e=0;e<n.length;e+=3){let t=this.getPosition(e),r=t.x,a=t.y,s=t.z;n[e]=r,n[e+1]=a,n[e+2]=s,o.setRGB(255,255,255),i[e]=o.r,i[e+1]=o.g,i[e+2]=o.b}r.addAttribute("position",new THREE.BufferAttribute(n,3)),r.addAttribute("color",new THREE.BufferAttribute(i,3)),r.computeBoundingSphere();let a=new THREE.PointsMaterial({size:5,map:this._texture}),s=new THREE.Points(r,a);this._scene.add(s),e()})}};var k=class{constructor(e,t){this._scene=e||null,this._count=t.asteroidBelt.count||1e3,this._distanceFromParent=t.asteroidBelt.distanceFromParent.min,this._distanceFromParentMin=t.asteroidBelt.distanceFromParent.min,this._distanceFromParentMax=t.asteroidBelt.distanceFromParent.max,this._distanceFromParentMedian=this.calculateDistanceFromParentMedian(),this._texture=(new THREE.TextureLoader).load("assets/textures/asteroid.jpg"),this._orbitCentroid=new THREE.Group,this._orbitRadian=360/1681.6}build(){return new Promise((e,t)=>{let r=this._count,n=new THREE.BufferGeometry,i=new Float32Array(3*r),o=new Float32Array(3*r),a=new THREE.Color,s=new THREE.PointsMaterial({size:16,map:this._texture});for(let e=0;e<i.length;e+=3){let t=this.positionAsteroid(e),r=t.x,n=t.y,s=t.z;i[e]=r,i[e+1]=n,i[e+2]=s,a.setRGB(119,81,20),o[e]=a.r,o[e+1]=a.g,o[e+2]=a.b}n.addAttribute("position",new THREE.BufferAttribute(i,3)),n.addAttribute("color",new THREE.BufferAttribute(o,3)),n.computeBoundingSphere();let h=new THREE.Points(n,s);this._orbitCentroid.add(h),this._scene.add(this._orbitCentroid),document.addEventListener("frame",e=>{this._orbitCentroid.rotation.z+=THREE.Math.degToRad(.002)},!1),e()})}positionAsteroid(e){let t=e%2,r=e%3,n=this._distanceFromParentMin*l.ORBIT_SCALE;t&&(n=this._distanceFromParentMedian*l.ORBIT_SCALE),r&&(n=this._distanceFromParentMax*l.ORBIT_SCALE),n+=e/e.toFixed(0).length;let i=Math.floor(2e3*Math.random())*(Math.random()+1),o=n+(t?-1*i:i)*(2+Math.random()),a=e+THREE.Math.degToRad(1*Math.random()*this._orbitRadian),s=o*Math.cos(a),h=o*Math.sin(a),c=1400*Math.random()-700;return{x:s,y:h,z:t?-1*c:c}}calculateDistanceFromParentMedian(){return Number.parseFloat((this._distanceFromParentMin+this._distanceFromParentMax)/2)}};var N=class{constructor(e,t){this._scene=e||null,this._count=t.kuiperBelt.count||1e3,this._distanceFromParentMin=t.kuiperBelt.distanceFromParent.min,this._distanceFromParentMax=t.kuiperBelt.distanceFromParent.max,this._distanceFromParentMedian=this.calculateDistanceFromParentMedian(),this._texture=(new THREE.TextureLoader).load("assets/textures/asteroid_dark.jpg"),this._orbitCentroid=new THREE.Group,this._orbitRadian=360/112897}build(){return new Promise((e,t)=>{let r=this._count,n=new THREE.BufferGeometry,i=new Float32Array(3*r),o=new Float32Array(3*r),a=new THREE.PointsMaterial({size:1,map:this._texture});for(let e=0;e<i.length;e+=3){this._orbitCentroid.rotation.z+=Math.random()+1;let t=this.positionObject(e),r=t.x,n=t.y,o=t.z;i[e]=r,i[e+1]=n,i[e+2]=o}n.addAttribute("position",new THREE.BufferAttribute(i,3)),n.addAttribute("color",new THREE.BufferAttribute(o,3)),n.computeBoundingSphere();let s=new THREE.Points(n,a);this._orbitCentroid.add(s),this._scene.add(this._orbitCentroid),document.addEventListener("frame",e=>{this._orbitCentroid.rotation.z+=THREE.Math.degToRad(.002)},!1),console.log("kuiperr"),e()})}positionObject(e){let t=e%2,r=this._distanceFromParentMin*l.ORBIT_SCALE;r+=e/e.toFixed(0).length;let n=Math.floor(8e4*Math.random())*(Math.random()+1),i=r+(t?n*(Math.random()+.2):n*(Math.random()+.05))*(3+Math.random()),o=e+THREE.Math.degToRad(1*Math.random()*this._orbitRadian),a=i*Math.cos(o),s=i*Math.sin(o),h=14e3*Math.random()-7e3;return{x:a,y:s,z:t?-1*h:h}}calculateDistanceFromParentMedian(){return Number.parseFloat((this._distanceFromParentMin+this._distanceFromParentMax)/2)}};function I(e){this.scene=new A,this.data=e||{},this.parent=e.parent||null,this.planets=e.planets||[],this.solarSystemObjects={sun:null,planets:[],moons:[]}}I.prototype.build=function(e){return new Promise(t=>{let r=(new Date).getTime(),n=this.buildSun(e.parent);this.solarSystemObjects.sun=n,this.scene.add(n.threeObject);let i={1:{buildGroup:this.buildPlanets.bind(this,e.planets,n),timeout:1e3},2:{buildGroup:this.buildAsteroidBelt.bind(this,e),timeout:1e3},3:{buildGroup:this.buildKuiperBelt.bind(this,e),timeout:1e3},4:{buildGroup:this.buildStars.bind(this),timeout:1e3}},o=(Object.keys(i).length,0);(function e(){if(o++,!i.hasOwnProperty(o))return this.renderScene(r),t();setTimeout(()=>{i[o].buildGroup.call().then(t=>{e.call(this)})},i[o].timeout)}).call(this)})},I.prototype.renderScene=function(e){new x(this.scene);let t=new THREE.Mesh(new THREE.RingBufferGeometry(.02,.04,32),new THREE.MeshBasicMaterial({color:16777215,opacity:.5,transparent:!0}));t.position.z=-2,this.scene.camera.add(t),this.scene.cameraWrapper.up.set(0,0,1),this.scene.cameraWrapper.position.set(6e4,0,15e3),this.scene.cameraWrapper.lookAt(new THREE.Vector3),this.scene.add(this.scene.cameraWrapper);let r=new C({scene:this.scene,sceneObjects:this.solarSystemObjects});document.onkeypress=r.handleKeyDown.bind(r),document.onkeyup=r.handleKeyUp.bind(r)},I.prototype.buildMoons=function(e,t){for(let r=0;r<e.satellites.length;r++){let n=a()({luminosity:"light",format:"hex",hue:"blue"}),i=new m(e.satellites[r],t,e,n);new v(i);this.solarSystemObjects.moons.push(i),t._moons.push(i),t.core.add(i.orbitCentroid)}},I.prototype.buildPlanet=function(e,t){return new Promise(r=>{let n=new T(e,t);new v(n);this.scene.add(n.orbitCentroid),e.satellites.length&&this.buildMoons(e,n),this.solarSystemObjects.planets.push(n),r(n)})},I.prototype.buildPlanets=function(e,t){return new Promise(r=>{let n=[];for(let r=0;r<e.length;r++)n.push(this.buildPlanet(e[r],t).then(e=>{this.solarSystemObjects.planets.push(e)}));Promise.all(n).then(()=>{r({group:"planets"})})})},I.prototype.buildSun=function(e){let t=new _(e);return this.solarSystemObjects.sun=t,t},I.prototype.buildStars=function(){let e=new D(this.scene);return new Promise(t=>{e.buildStarField().then(()=>{t({group:"stars"})})})},I.prototype.buildKuiperBelt=function(e){let t=new N(this.scene,e);return new Promise(e=>{t.build().then(()=>{e({group:"kuiper"})})})},I.prototype.buildAsteroidBelt=function(e){let t=new k(this.scene,e);return new Promise(e=>{t.build().then(()=>{e({group:"asteroids"})})})};var B=I;r(29);var V=class{constructor(e){this.scene=e,this.camera=this.scene.cameraWrapper}calculateDestinationCoordinates(e){var t=(new THREE.Vector3).setFromMatrixPosition(e.threeObject.matrixWorld),r=t.x,n=t.y,i=r,o=n,a=t.z,s=r>0&&n>0,h=r<0&&n>0,c=r<0&&n<0,u=r>0&&n<0,l=(t.threeDiameter,3*t.threeDiameter);s&&(i+=l,o+=l),h&&(i-=l,o+=l),c&&(i-=l,o-=l),u&&(i+=l,o-=l);let d=new THREE.Vector3;return d.x=i,d.y=o,d.z=a+.15*t.threeDiameter,d}prepareForTravel(e,t){return new TWEEN.Tween(this.camera.position).to({x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z+e+700},3e3).easing(TWEEN.Easing.Cubic.InOut).onUpdate(e=>{this.camera.lookAt(t.threeObject.position)})}travelToPlanet(e,t){THREE.SceneUtils.detach(this.camera,this.camera.parent,this.scene),THREE.SceneUtils.attach(this.camera,this.scene,e.orbitCentroid),e.core.updateMatrixWorld(),e.orbitCentroid.updateMatrixWorld(),this.camera.lookAt(e.threeObject.position);let r=this.calculateDestinationCoordinates(e),n=this.prepareForTravel(t,e),i=e instanceof m?e.core:e.objectCentroid;return n.start().onComplete(()=>{var t=new TWEEN.Tween(this.camera.position).to(r,5e3).easing(TWEEN.Easing.Cubic.InOut).onUpdate(function(n){t.to(r),this.camera.lookAt(e.threeObject.position),e.highlight.geometry.boundingSphere.radius>e.threeDiameter/1.25&&this.updateTargetHighlight(e)}.bind(this)).onComplete(this.handleComplete.bind(this,e,i)).start()})}handleComplete(e,t){t=t||e.objectCentroid,THREE.SceneUtils.detach(this.camera,this.camera.parent,this.scene),THREE.SceneUtils.attach(this.camera,this.scene,t),this.camera.lookAt(new THREE.Vector3),e.core.updateMatrixWorld(),e.orbitCentroid.updateMatrixWorld()}updateTargetHighlight(e){e.highlight&&e.core.remove(e.highlight);var t=.011*this.camera.position.distanceTo(e.threeObject.position);e.highlight=t,e.highlight.material.opacity=.9}};window.solarSystemData=null,window.solarSystemFactory=null,i.a.get("data/solarsystem.json").then(e=>{window.solarSystemData=e.data,window.solarSystemFactory=new B(solarSystemData),window.travelController=new V(window.solarSystemFactory.scene),window.solarSystemFactory.build(solarSystemData).then(()=>{console.log("Success"),window.addEventListener("travel.start",e=>{let t=function(e){console.log(window.solarSystemFactory);for(var t=0;t<window.solarSystemFactory.solarSystemObjects.planets.length;t++)if(console.log(window.solarSystemFactory.solarSystemObjects.planets[t].id),window.solarSystemFactory.solarSystemObjects.planets[t].id===e)return window.solarSystemFactory.solarSystemObjects.planets[t];return null}(Number.parseInt(e.detail));window.travelController.travelToPlanet(t,2.5*t.threeDiameter)})})})}]);